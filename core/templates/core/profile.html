{% load static %}
<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>My Profile</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
  </head>
  <body class="bg-light">
    <div class="container mt-5 col-lg-8">
      <h3 class="mb-4">My Profile</h3>

      <div class="card p-3">
        <div class="d-flex align-items-center gap-3">
          <img
            id="pf_avatar"
            src=""
            class="rounded"
            style="
              width: 96px;
              height: 96px;
              object-fit: cover;
              background: #eee;
            "
          />
          <div>
            <div class="mb-1">
              <strong>Username:</strong> <span id="pf_username">-</span>
            </div>
            <div class="mb-1">
              <strong>Role:</strong> <span id="pf_role">-</span>
            </div>
          </div>
        </div>

        <hr />

        <form id="pf_form" class="mt-2">
          <div class="mb-3">
            <label class="form-label">Display label</label>
            <input
              id="pf_label"
              class="form-control"
              placeholder="e.g. Jon Tan"
            />
          </div>
          <div class="row">
            <div class="col-md-6 mb-3">
              <label class="form-label">Gender identity</label>
              <input
                id="pf_gender"
                class="form-control"
                placeholder="e.g. Male/Female"
              />
            </div>
            <div class="col-md-6 mb-3">
              <label class="form-label">Pronouns</label>
              <input
                id="pf_pronouns"
                class="form-control"
                placeholder="e.g. she/her, he/him"
              />
            </div>
          </div>

          <!-- Optional: online handles (we’ll wire them now too) -->
          <div class="row">
            <div class="col-md-6 mb-3">
              <label class="form-label">Website</label>
              <input
                id="pf_website"
                class="form-control"
                placeholder="https://example.com"
              />
            </div>
            <div class="col-md-6 mb-3">
              <label class="form-label">GitHub</label>
              <input
                id="pf_github"
                class="form-control"
                placeholder="username"
              />
            </div>
            <div class="col-md-6 mb-3">
              <label class="form-label">LinkedIn</label>
              <input
                id="pf_linkedin"
                class="form-control"
                placeholder="https://www.linkedin.com/in/…"
              />
            </div>
            <div class="col-md-6 mb-3">
              <label class="form-label">Twitter / X</label>
              <input
                id="pf_twitter"
                class="form-control"
                placeholder="@handle or handle"
              />
            </div>
          </div>

          <div class="mb-3">
            <label class="form-label">Bio</label>
            <textarea
              id="pf_bio"
              class="form-control"
              rows="4"
              placeholder="Short description"
            ></textarea>
          </div>
          <div class="mb-3">
            <label class="form-label">Avatar</label>
            <input
              id="pf_avatar_file"
              type="file"
              class="form-control"
              accept="image/*"
            />
            <div class="form-text">PNG/JPG ≤ 2MB recommended.</div>
          </div>

          <div class="d-flex gap-2">
            <button class="btn btn-primary" onclick="saveMyProfile(event)">
              Save
            </button>
            <a href="/api/home/" class="btn btn-outline-secondary">Back</a>
          </div>
        </form>
        <div id="pf_status" class="mt-3 text-muted"></div>
      </div>
    </div>

    <script src="{% static 'core/js/main.js' %}"></script>
    <script>
      initMyProfilePage();
    </script>
  </body>
</html>
